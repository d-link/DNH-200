<div ng-controller="accessPointController" class="accessPoint">
    <div class="set-height" style="margin: -24px;padding: 24px;overflow-y: auto">
        <div class="subpage">
            <div class="row orgpanel">
                <!--下拉框-->
                <div class="col-md-12 col-sm-12">
                    <div class="box">
                        <div class="box-content" style="height: 82px;">
                            <div class="clear" style="padding: 16px 0px;">
                                <div class="pull-left" style="width: 172px;height: 32px;display: inline-block;">
                                    <ui-select ng-model="usageSelect.site" theme="bootstrap" ng-change="changeSite();">
                                        <ui-select-match placeholder="{{'common.pickone'|translate}}">
                                            {{$select.selected.siteName|translate}}
                                        </ui-select-match>
                                        <ui-select-choices repeat="site in optionSites">{{site.siteName|translate}}
                                        </ui-select-choices>
                                    </ui-select>
                                </div>
                                <div class="pull-left"
                                     style="width: 172px;height: 32px;display: inline-block;margin-left: 8px;">
                                    <ui-select ng-model="usageSelect.network" theme="bootstrap">
                                        <ui-select-match placeholder="{{'common.pickone'|translate}}">
                                            {{$select.selected.name|translate}}
                                        </ui-select-match>
                                        <ui-select-choices repeat="net in usageSelect.site.networks">
                                            {{net.name|translate}}
                                        </ui-select-choices>
                                    </ui-select>
                                </div>
                                <button class="btn btn-cancel pull-left" style="margin-left: 8px;padding: 8px;"
                                        ng-click="searchAP(true)" title="{{'title.search' | translate}}">
                                    <md-icon md-svg-icon="user:view"></md-icon>
                                </button>
                                <div class="network-title pull-left clear mgb8"
                                     style="margin-left: 8px;margin-right: 0px;">
                                    <div class="title-text">
                                        <span>{{'common.total'|translate}}:</span>
                                        <span class="title-im color-orange-title">{{totalOnline}}</span>/{{accessPointsOptions.totalItems}}
                                        <span> {{'common.access'|translate}}</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <!--图像折线图-->
                <div class="col-md-12 col-sm-12">
                    <div class="box">
                        <div class="box-header">
                            <h3>
                                <div class="download-upload-div">
                                    <span>{{'common.total'|translate}} {{'common.download'|translate}}:</span>
                                    <span class="title-im color-orange-title">{{total.download|unitFilter:total.unit}}</span>&nbsp;&nbsp;&nbsp;
                                    <span>{{'common.total'|translate}} {{'common.upload'|translate}}:</span>
                                    <span class="title-im color-orange-title">{{total.upload|unitFilter:total.unit}} </span>
                                </div>
                            </h3>

                        </div>
                        <div class="box-content" style="position: relative;height: 252px;">
                            <div line-chart options="accessPointsCharts.options" size="size" theme="theme"
                                 style="position: absolute;left: 0px;top: 0px;" id="accessPointsCharts"></div>
                        </div>
                    </div>
                </div>
                <!--列表-->
                <div class="col-md-12 col-sm-12">
                    <div class="box">
                        <div class="box-header">
                            <h3 class="pull-left">{{'common.access'|translate}}</h3>
                            <div class="pull-left" style="margin-left:8px;margin-top:4px;" ng-if="nodeEnv">
                                <a class="btn btn-common" ng-click="openOfflineList()">{{'accessPoint.offline'|translate}}</a>
                            </div>
                        </div>
                        <div class="box-content">
                            <div class="pull-right">
                                <div class="clear" style="position: relative;z-index: 1;">
                                    <div class="pull-left mgr8"
                                         style="width: 172px;height: 32px;display: inline-block;">
                                        <div class="alert alert-danger" role="alert" ng-if="Error.sysName">
                                            {{'invalid.sysName'|translate}}
                                        </div>
                                    </div>
                                    <div class="pull-left mgr8"
                                         style="width: 172px;height: 32px;display: inline-block;">
                                        <div class="alert alert-danger" role="alert" ng-if="Error.location">
                                            {{'invalid.location'|translate}}
                                        </div>
                                    </div>
                                    <span class="pull-left mgr8" style="line-height: 32px;color: #999;">{{'accessPoint.searchBy'|translate}}</span>
                                    <div class="pull-left mgr8"
                                         style="width: 140px;height: 32px;display: inline-block;">
                                        <div style="width: 140px;height: 32px;display: inline-block;margin-right: 8px;">
                                            <ui-select ng-model="searchData.type" theme="bootstrap">
                                                <ui-select-match placeholder="{{'common.pickone'|translate}}">
                                                    {{'column.'+$select.selected|translate}}
                                                </ui-select-match>
                                                <ui-select-choices repeat="type in optionTypes">
                                                    {{'column.'+type|translate}}
                                                </ui-select-choices>
                                            </ui-select>
                                        </div>

                                    </div>
                                    <div class="pull-left" style="position: relative;">
                                        <input type="text" class="form-control"
                                               placeholder="{{'common.searchKey'|translate}}"
                                               ng-model="searchData.value" style="width: 160px;">

                                    </div>
                                    <div class="pull-left" style="position: relative;">
                                        <button class="btn btn-cancel" style="margin-left: 8px;padding: 8px;"
                                                ng-click="search()" title="{{'title.search' | translate}}">
                                            <md-icon md-svg-icon="user:view"></md-icon>
                                        </button>

                                        <!--	<a style="position: absolute;right: 8px;top: 8px;display: block;width: 16px;height: 16px;z-index: 1;cursor: pointer;color: #999;" ng-click="search()"><md-icon md-svg-icon="user:search"></md-icon></a>-->

                                    </div>
                                </div>
                            </div>
                            <div id="accessPointsGrid" ui-grid="accessPointsOptions" class="grid" ui-grid-pagination
                                 ui-grid-auto-resize ui-grid-resize-columns
                                 style="margin: 0px -16px; height: 500px; padding: 40px 16px 0px;">
                                <loading-directive ng-if="accessPointsOptions.isLoading"></loading-directive>
                                <nodata-directive ng-if="!accessPointsOptions.isLoading"
                                                  ng-show="accessPointsOptions.totalItems==0"
                                                  desc="{{'accessPoint.noAP'|translate}}"></nodata-directive>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
</div>
<script type="text/ng-template" id="offlineList.html">
    <div class="modal-header">
        <a class="logo">
            <md-icon md-svg-icon="menu:monitor"></md-icon>
        </a><span>{{'menu.offlineList'|translate}}</span>
        <a class="close pull-right"
           ng-click="cancel()">
            <md-icon md-svg-icon="modal:close"></md-icon>
        </a>
    </div>
    <div class="modal-body">
        <div class="clear box-header" style="position: relative;z-index: 1;background: transparent;">
            <h3 class="pull-left">{{'common.total'|translate}} <i style="font-style: normal;font-size: 12px;"> <span
                    class="title-im color-orange-title" style="font-size: 18px;">{{totalOffline}}</span></i>
                {{'common.access'|translate}}</h3>
        </div>
        <div id="offlineGrid" ui-grid="offlineOptions" class="grid" ui-grid-auto-resize ui-grid-resize-columns>
            <loading-directive ng-if="offlineOptions.isLoading"></loading-directive>
            <nodata-directive ng-if="!offlineOptions.isLoading" ng-show="offlineOptions.length==0"
                              desc="{{'accessPoint.noAP'|translate}}"></nodata-directive>
        </div>
    </div>
</script>