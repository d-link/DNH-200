<div ng-controller="suppliersController">
    <div class="set-height">
        <div class="grid-top-menu elementFlag" style="height: 44px;padding-top: 0px;">
            <div class="content-title">
                <div class="col-sm-12">
                <span class="title-text mgr8">
                    <span class="title-im">Suppliers</span>
                </span>
                    <button class="btn btn-common pull-right" style="margin-right: 16px" type="button"
                            ng-if="hasPrivilege"
                            ng-click="openSupplierItemModel();">Add Supplier
                    </button>

                </div>
            </div>


        </div>
        <div class="subpage">
            <div ui-grid="gridOptionsSupplier" id="supplier-grid" ui-grid-pagination ui-grid-auto-resize
                 ui-grid-resize-columns class="grid"></div>
        </div>
    </div>

    <script type="text/ng-template" id="supplierItem.html">
        <div class="modal-header">
            <a class="logo">
                <md-icon md-svg-icon="common:{{iconName}}"></md-icon>
            </a><span>{{'settings.'+title|translate}}</span>
            <a class="close pull-right"
               ng-click="cancel()" title="{{'title.close'|translate}}">
                <md-icon md-svg-icon="modal:close"></md-icon>
            </a>
        </div>
        <div class="modal-body">
            <form name="supplierForm" class="form-horizontal clear">
                <div class="form-group">
                    <label class="col-sm-3 control-label">{{'supplier.supplier'|translate}}</label>

                    <div class="col-sm-9"
                         ng-class="((supplierForm.name.$dirty&&supplierForm.name.$invalid)||(supplierForm.year.$dirty&&supplierForm.year.$invalid)||invalidSupplier)?'error':''">
                        <input type="text" class="form-control" style="width: 215px"
                               name="name" required
                               maxlength="32" minlength="3"
                               placeholder="Name" autocomplete="off"
                               ng-model="supplier.name">
                        <input type="text" class="form-control" style="width: 100px"
                               name="year" title="eg.1982" required ng-pattern="/^(1|2)\d{3}$/"
                               maxlength="4" minlength="4"
                               placeholder="Year" autocomplete="off"
                               ng-model="supplier.year">
                        <span ng-if="supplierForm.name.$dirty&&supplierForm.name.$invalid" class="hint-span">{'invalid.supplierName'|translate}}</span>
                        <span ng-if="supplierForm.year.$dirty&&supplierForm.year.$invalid" class="hint-span">{'invalid.year'|translate}}</span>
                        <span ng-if="invalidSupplier" class="hint-span">{{invalidSupplierMsg}}</span>
                    </div>
                </div>
                <div class="form-group">
                    <label class="col-sm-3 control-label">{{'supplier.liaison'|translate}}</label>

                    <div class="col-sm-9"
                         ng-class="supplierForm.liaison.$dirty&&supplierForm.liaison.$invalid?'error':''">
                        <input type="text" class="form-control w320"
                               name="liaison" required maxlength="32" minlength="3"
                               placeholder="{{'supplier.liaison'|translate}}" autocomplete="off"
                               ng-model="supplier.liaison">
                        <span class="hint-span">{'invalid.liaison'|translate}}</span>
                    </div>
                </div>
                <div class="form-group">
                    <label class="col-sm-3 control-label">{{'supplier.tel'|translate}}</label>

                    <div class="col-sm-9">
                        <input type="text" class="form-control w320"
                               name="tel"
                               placeholder="Telephone" autocomplete="off"
                               ng-model="supplier.tel">
                    </div>
                </div>
                <div class="form-group">
                    <label class="col-sm-3 control-label">{{'supplier.site'|translate}}</label>

                    <div class="col-sm-9">
                        <input type="text" class="form-control w320"
                               name="tel" required
                               ng-pattern="/^[\w\-]+(\.[\w\-]+)+([\w\-\.,@?^=%&:\/~\+#]*[\w\-\@?^=%&\/~\+#])?$/"
                               placeholder="Site" autocomplete="off"
                               ng-model="supplier.site">
                    </div>
                </div>
            </form>

        </div>
        <div class="modal-footer">
            <button class="btn btn-common" type="button" ng-click="save()" ng-disabled="supplierForm.$invalid">
                {{'common.'+buttonName|translate}}
            </button>
            <button class="btn btn-cancel" type="button" ng-click="cancel()">{{'common.cancel'|translate}}</button>
        </div>
    </script>
</div>